// Code generated by cmd/lexgen (see Makefile's lexgen); DO NOT EDIT.

// Lexicon schema: app.bsky.contact.verifyPhone

package bsky

import (
	"context"

	lexutil "github.com/bluesky-social/indigo/lex/util"
)

// ContactVerifyPhone_Input is the input argument to a app.bsky.contact.verifyPhone call.
type ContactVerifyPhone_Input struct {
	// code: The code received via SMS as a result of the call to `app.bsky.contact.startPhoneVerification`.
	Code string `json:"code" cborgen:"code"`
	// phone: The phone number to verify. Should be the same as the one passed to `app.bsky.contact.startPhoneVerification`.
	Phone string `json:"phone" cborgen:"phone"`
}

// ContactVerifyPhone_Output is the output of a app.bsky.contact.verifyPhone call.
type ContactVerifyPhone_Output struct {
	// token: JWT to be used in a call to `app.bsky.contact.importContacts`. It is only valid for a single call.
	Token string `json:"token" cborgen:"token"`
}

// ContactVerifyPhone calls the XRPC method "app.bsky.contact.verifyPhone".
func ContactVerifyPhone(ctx context.Context, c lexutil.LexClient, input *ContactVerifyPhone_Input) (*ContactVerifyPhone_Output, error) {
	var out ContactVerifyPhone_Output
	if err := c.LexDo(ctx, lexutil.Procedure, "application/json", "app.bsky.contact.verifyPhone", nil, input, &out); err != nil {
		return nil, err
	}

	return &out, nil
}
